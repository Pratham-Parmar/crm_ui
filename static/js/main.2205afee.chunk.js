(this["webpackJsonpsrg-web"]=this["webpackJsonpsrg-web"]||[]).push([[0],{129:function(e,t,n){},220:function(e,t,n){"use strict";n.r(t);var a=n(13),r=n.n(a),i=(n(129),n(47)),s=n(52),c=n(73),l=n(57),o=n(12),h=n(28),j=n(18),d=n(17),b=n(33),u=n(35),p=n(0),m=n.n(p),x=n(100),f=n.n(x),O=n(267),g=n(247),y=n(251),v=n(269),S=n(253),w=n(254),k=n(255),C=n(256),_=n(222),E=n(263),P=null;P="https://silverbugci.centralindia.cloudapp.azure.com";var A=n(2),T=function(e){Object(b.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={isLoading:!1,isError:!1,alertState:!1,alertMsg:"Please check the form for errors"},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.showAlert=a.showAlert.bind(Object(d.a)(a)),a.hideAlert=a.hideAlert.bind(Object(d.a)(a)),a}return Object(j.a)(n,[{key:"handleChange",value:function(e){var t=e.target.name,n=e.target.value;"member_emails"===t?this.setState({member_emails:n.trim().split(/\r?\n/)}):"member_names"===t?this.setState({member_names:n.trim().split(/\r?\n/)}):"deadline"===t?this.setState({deadline:Date.parse(n)/1e3}):"grp_size"===t?this.setState({grp_size:parseInt(n)}):this.setState(Object(o.a)({},t,n))}},{key:"hideAlert",value:function(){this.setState({alertState:!1})}},{key:"showAlert",value:function(e){this.setState({alertMsg:e,alertState:!0})}},{key:"handleSubmit",value:function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var n,a,r,l,o,h,j,d,b=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=Object(c.a)(this.state.member_emails),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=11;break}if(r=a.value,f.a.isEmail(r.trim())){e.next=9;break}return this.showAlert("Please Check Member Emails For Error (Invalid Email-Id,Empty Rows etc)"),e.abrupt("return");case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:l=Object(c.a)(this.state.member_names),e.prev=20,l.s();case 22:if((o=l.n()).done){e.next=29;break}if(""!==o.value){e.next=27;break}return this.showAlert("Please Check Member Names For Error (Empty Rows etc)"),e.abrupt("return");case 27:e.next=22;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(20),l.e(e.t1);case 34:return e.prev=34,l.f(),e.finish(34);case 37:if(0!==this.state.member_emails.length&&0!==this.state.member_names.length){e.next=40;break}return this.showAlert("Please Fill All Fields"),e.abrupt("return");case 40:if(this.state.member_emails.length===this.state.member_names.length){e.next=43;break}return this.showAlert("Different Number Of Names And Email"),e.abrupt("return");case 43:if(!(this.state.member_emails.length<this.state.grp_size)){e.next=46;break}return this.showAlert("Number of members cannot be less than group size."),e.abrupt("return");case 46:if(!(this.state.deadline<Date.now()/1e3)){e.next=49;break}return this.showAlert("Please Enter Valid Deadline"),e.abrupt("return");case 49:for(this.setState({isLoading:!0}),delete(h=Object(s.a)({},this.state)).isError,delete h.isLoading,delete h.alertState,delete h.alertMsg,delete h.member_emails,delete h.member_names,h.members=Array(),j=0;j<this.state.member_emails.length;j++)h.members.push({name:this.state.member_names[j],email:this.state.member_emails[j]});d={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)},fetch(P+"/create",d).then((function(e){return e.json()})).then((function(e){b.setState({isLoading:!1}),0!==e.status?b.props.history.push("/Done"):b.setState({isError:!0})})).catch(function(e){this.setState({isLoading:!1,isError:!0}),console.info(e+"------err------")}.bind(this));case 61:case"end":return e.stop()}}),e,this,[[2,13,16,19],[20,31,34,37]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isLoading?Object(A.jsx)("div",{style:{justifyContent:"center",display:"flex"},children:Object(A.jsx)(g.a,{style:{margin:"20px"}})}):this.state.isError?Object(A.jsx)("div",{children:Object(A.jsx)(O.a,{severity:"error",style:{display:"flex",justifyContent:"center"},children:"Error! Something Happened. Please Try Again."})}):Object(A.jsxs)(y.a,{container:!0,alignItems:"center",justify:"center",style:{minHeight:"100vh"},id:"main",children:[Object(A.jsxs)(v.a,{open:this.state.alertState,children:[Object(A.jsx)(S.a,{children:Object(A.jsx)(w.a,{children:this.state.alertMsg})}),Object(A.jsx)(k.a,{children:Object(A.jsx)(C.a,{onClick:this.hideAlert,color:"primary",children:"Ok"})})]}),Object(A.jsx)(_.a,{elevation:3,style:{borderRadius:"10px",margin:"10px",padding:"10px",paddingTop:"30px"},children:Object(A.jsxs)("span",{style:{display:"flex",flexDirection:"column",padding:"10px"},children:[Object(A.jsx)("b",{children:"Whats this app about?"}),Object(A.jsx)("br",{}),Object(A.jsx)("ul",{children:Object(A.jsx)("li",{children:"It automates group formation for projects/presentations/assignments etc, based on individual preferences."})}),Object(A.jsxs)("p",{children:[Object(A.jsx)("b",{children:"But why not just ask other participants instead?"}),Object(A.jsx)("br",{}),Object(A.jsxs)("ul",{children:[Object(A.jsx)("li",{children:"Asking dozens of people to see if they are available is really annoying."}),Object(A.jsx)("li",{children:"You might feel that you would have been better off with some other choice."}),Object(A.jsx)("li",{children:"A situation might arise where everyone is grouped but some groups are left with vacancies."}),Object(A.jsx)("li",{children:"By letting an app do the matching, you also avoid all those awkward moments where you have to reject someone or get rejected."})]})]}),Object(A.jsx)("b",{children:"How to use?"}),Object(A.jsx)("br",{}),Object(A.jsxs)("ul",{children:[Object(A.jsx)("li",{children:"You fill out this form."}),Object(A.jsx)("li",{children:"The app will mail a form to every participants, asking them to assign a preference (on a scale of 1 to 10) to all the other participants they would like to be grouped with."}),Object(A.jsx)("li",{children:"Once everyone has filled their choices (or the deadline is reached), the app will form optimal groups and send emails to all the participants, informing them of their respective groups."}),Object(A.jsx)("li",{children:"Additionally it will also send you a mail containing all group allocations."})]}),Object(A.jsx)("br",{}),Object(A.jsx)("b",{children:"How does it work?"}),Object(A.jsx)("ul",{children:Object(A.jsxs)("li",{children:["See\xa0",Object(A.jsx)("a",{href:"https://github.com/AnjayGoel/Stable-Roommate-Generalised",children:"this"}),". Suggestions, PRs are welcomed."]})})]})}),Object(A.jsx)("br",{}),Object(A.jsx)(_.a,{elevation:3,style:{borderRadius:"10px",margin:"10px",padding:"10px"},children:Object(A.jsx)("form",{id:"mainForm",onSubmit:this.handleSubmit,children:Object(A.jsxs)(y.a,{container:!0,spacing:0,direction:"column",style:{padding:"30px"},children:[Object(A.jsx)(E.a,{name:"organizer_name",type:"text",label:"Organizer's Name",required:!0,"data-parse":"uppercase",onChange:this.handleChange}),Object(A.jsx)("p",{}),Object(A.jsx)(E.a,{name:"organizer_email",type:"email",label:"Organizer's Email",required:!0,onChange:this.handleChange}),Object(A.jsx)("p",{}),Object(A.jsx)(E.a,{name:"project_title",type:"text",label:"Title of Project",required:!0,onChange:this.handleChange}),Object(A.jsx)("p",{}),Object(A.jsx)(E.a,{name:"grp_size",type:"number",label:"Group Size",InputProps:{inputProps:{min:2}},required:!0,onChange:this.handleChange}),Object(A.jsx)("p",{}),Object(A.jsx)(E.a,{name:"deadline",type:"date",label:"Group formation deadline",required:!0,InputLabelProps:{shrink:!0},onChange:this.handleChange}),Object(A.jsx)("p",{}),Object(A.jsxs)("div",{style:{display:"flex"},children:[Object(A.jsx)("span",{style:{margin:"20px",marginLeft:"0px"},children:Object(A.jsx)(E.a,{multiline:!0,required:!0,rows:5,rowsMax:10,onChange:this.handleChange,label:"Participant Names",variant:"outlined",name:"member_names",helperText:"Seperated by a new line"})}),Object(A.jsx)("span",{style:{margin:"20px",marginRight:"0px"},children:Object(A.jsx)(E.a,{multiline:!0,required:!0,rows:5,rowsMax:10,onChange:this.handleChange,label:"Participant Emails",variant:"outlined",name:"member_emails",helperText:"Ensure same order as names"})}),Object(A.jsx)("p",{})]}),Object(A.jsx)(C.a,{type:"Submit",variant:"contained",color:"primary",children:"Create"})]})})})]})}}]),n}(m.a.Component),L=T,z=function(e){Object(b.a)(n,e);var t=Object(u.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(A.jsx)("div",{children:Object(A.jsx)("h1",{children:"About..."})})}}]),n}(m.a.Component),I=z,N=function(e){Object(b.a)(n,e);var t=Object(u.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(A.jsxs)("div",{style:{textAlign:"center",margin:"30px"},children:[Object(A.jsx)("h3",{children:"Thank You!"}),Object(A.jsx)("p",{children:"We will mail you the results when the process is complete."})]})}}]),n}(m.a.Component),D=N,M=n(259),q=n(265),G=n(260),R=n(261),F=n(112),H=n(262),J=n(250),B=n(107),Y=n(14),W=n(105),U=n.n(W),V=n(266),K=n(257),Q=n(258),X=function(e){Object(b.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleTag=a.handleTag.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.delete=a.delete.bind(Object(d.a)(a)),a.getNames=a.getNames.bind(Object(d.a)(a)),a.getNames(),a.state={name:"Loading...",project_title:"Loading...",organizer_name:"Loading....",all:[],chosen:[],chosenPref:[],isLoading:!0,isError:!1,errorMsg:""},a}return Object(j.a)(n,[{key:"getNames",value:function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,n=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"GET",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state)},fetch(P+"/vote/"+this.props.match.params.id+"/"+this.props.match.params.secret,t).then((function(e){return e.json()})).then((function(e){if(n.setState({isLoading:!1}),0===e.status)return n.setState({isError:!0}),void n.setState({errorMsg:e.message});n.setState({name:e.name,project_title:e.project_title,organizer_name:e.organizer_name,all:e.names.filter((function(t){return t!==e.name})),chosen:[]})})).catch(function(e){this.setState({isLoading:!1,isError:!0})}.bind(this));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=this.state.chosenPref,a=this.state.chosen.map((function(e,t){return{name:e,score:n[t]}}));this.setState({isLoading:!0});var r={data:a},i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)};fetch(P+"/vote/"+this.props.match.params.id+"/"+this.props.match.params.secret,i).then((function(e){return e.json()})).then((function(e){0!==e.status?t.props.history.push("/Done"):t.setState({isError:!0})})).catch(function(e){this.setState({isError:!0}),console.info(e+"------err------")}.bind(this))}},{key:"delete",value:function(e){var t=this.state.chosen;t.splice(e,1),this.setState({chosen:t})}},{key:"pref",value:function(e,t){var n=this.state.chosenPref;n[e]=parseInt(t),this.setState({chosenPref:n})}},{key:"handleTag",value:function(e,t){if(this.state.all.includes(t)){var n=this.state.chosen;n.includes(t)||(n.push(t),this.setState({chosen:n}))}}},{key:"render",value:function(){var e=this;if(this.state.isLoading)return Object(A.jsx)("div",{style:{justifyContent:"center",display:"flex"},children:Object(A.jsx)(g.a,{style:{margin:"20px"}})});if(this.state.isError)return Object(A.jsx)("div",{children:Object(A.jsxs)(O.a,{severity:"error",style:{display:"flex",justifyContent:"center"},children:["Error! ",this.state.errorMsg,"."]})});var t=[],n=function(n){t.push(Object(A.jsx)(Z,{name:e.state.chosen[n],onClick:function(){return e.delete(n)},onPref:function(t){return e.pref(n,t.target.value)}},n.toString()))};for(var a in this.state.chosen)n(a);return Object(A.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(A.jsx)(q.a,{id:"main",style:{justifyContent:"center",display:"inline-block"},children:Object(A.jsx)(_.a,{elevation:3,style:{borderRadius:"10px",margin:"10px",padding:"10px",paddingTop:"30px"},children:Object(A.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(A.jsxs)("p",{children:["Hello ",this.state.name,",",Object(A.jsx)("br",{}),"Please fill out your preferences for ",this.state.project_title," "]}),Object(A.jsxs)("span",{style:{marginLeft:-100,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[Object(A.jsx)(F.a,{style:{margin:10},children:"Find Name:"}),Object(A.jsx)(V.a,{onInputChange:this.handleTag,options:this.state.all,getOptionLabel:function(e){return e},style:{width:300},onChange:this.onTagsChange,renderInput:function(e){return Object(A.jsx)(E.a,Object(s.a)(Object(s.a)({},e),{},{variant:"outlined"}))}})," "]}),Object(A.jsx)(_.a,{elevation:0,style:{maxHeight:400,overflow:"unset"},children:Object(A.jsx)(K.a,{style:{justifyContent:"center",alignItems:"center"},children:t})}),Object(A.jsx)("span",{style:{margin:"20px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:Object(A.jsx)(C.a,{type:"submit",style:{margin:"20px",alignSelf:"center"},variant:"contained",color:"primary",children:"Submit"})}),Object(A.jsxs)("div",{children:["Note:",Object(A.jsxs)("ul",{children:[Object(A.jsx)("li",{children:"You can leave out choices, it that case they will be assigned a preference of zero."}),Object(A.jsx)("li",{children:"Filling out as many choices as you can will lead to a better matching."})]})]})]})})})})}}]),n}(m.a.Component),Z=function(e){Object(b.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(h.a)(this,n),t.call(this,e)}return Object(j.a)(n,[{key:"render",value:function(){return Object(A.jsx)(Q.a,{style:{justifyContent:"center",alignItems:"center"},children:Object(A.jsx)(_.a,{children:Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(A.jsx)(F.a,{align:"center",style:{margin:"20px"},children:this.props.name}),Object(A.jsx)(E.a,{style:{minWidth:"170px",marginBottom:"20px"},required:!0,onChange:this.props.onPref,InputProps:{inputProps:{max:10,min:0}},type:"number",label:"Preference (0-10)"}),Object(A.jsx)(J.a,{"aria-label":"delete",onClick:this.props.onClick,children:Object(A.jsx)(U.a,{fontSize:"large"})})]})})})}}]),n}(m.a.Component),$=X,ee=n(109),te=n(106),ne=n.n(te),ae=Object(ee.a)({palette:{primary:{light:"#757ce8",main:"#3f50b5",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}}});Object(ee.a)({palette:{primary:{light:"#000000",main:"#000000",dark:"#000000",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}}});function re(){return Object(A.jsx)("main",{children:Object(A.jsxs)(Y.d,{children:[Object(A.jsx)(Y.b,{path:"/",component:L,exact:!0}),Object(A.jsx)(Y.b,{path:"/home",component:L,exact:!0}),Object(A.jsx)(Y.b,{path:"/about",component:I}),Object(A.jsx)(Y.b,{path:"/done",component:D}),Object(A.jsx)(Y.b,{path:"/fillPreference/:id/:secret",component:$}),Object(A.jsx)(Y.b,{render:function(){return Object(A.jsx)(Y.a,{to:{pathname:"/"}})}})]})})}r.a.render(Object(A.jsx)(m.a.StrictMode,{children:Object(A.jsx)(M.a,{theme:ae,children:Object(A.jsxs)(q.a,{children:[Object(A.jsx)(G.a,{position:"static",children:Object(A.jsxs)(R.a,{children:[Object(A.jsx)(F.a,{style:{fontSize:"large"},children:Object(A.jsx)(H.a,{href:"/GroupUs",color:"inherit",style:{textDecoration:"none"},children:"Group Us"})}),Object(A.jsx)("div",{style:{marginLeft:"auto"},children:Object(A.jsx)(J.a,{"aria-label":"Github",style:{color:"white",justifySelf:"right"},onClick:function(){return window.open("https://github.com/anjaygoel")},children:Object(A.jsx)(ne.a,{style:{color:"white",justifySelf:"right"}})})})]})}),Object(A.jsx)(B.a,{children:Object(A.jsx)(re,{})})]})})}),document.getElementById("root"))}},[[220,1,2]]]);
//# sourceMappingURL=main.2205afee.chunk.js.map